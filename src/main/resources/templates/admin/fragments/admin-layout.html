<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <head>
        <meta charset="UTF-8">
        <title layout:title-pattern="$CONTENT_TITLE | KovingLao Admin">KovingLao Admin</title>

        <link rel="stylesheet" th:href="@{/css/common.css}">
        <link rel="stylesheet" th:href="@{/css/page/admin/admin-layout.css}">

        <th:block layout:fragment="pageLinks"></th:block>
    </head>

    <body>
        <div class="admin-layout">

            <!--ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î-->
            <aside class="sidebar" id="admin-sidebar">
                <div class="sidebar-header">
                    <a th:href="@{/admin/dashboard}" class="sidebar-logo">KovingLao Admin</a>
                </div>

                <nav class="sidebar-nav">
                    <ul>
                        <li>
                            <a th:href="@{/admin/dashboard}" th:classappend="${activeMenu == 'dashboard'} ? 'active' : ''">
                                <span class="icon">üìä</span>
                                ÎåÄÏãúÎ≥¥Îìú
                            </a>
                        </li>
                        <li>
                            <a th:href="@{/admin/reservations}" th:classappend="${activeMenu == 'reservations'} ? 'active' : ''">
                                <span class="icon">üìÖ</span>
                                ÏòàÏïΩ Í¥ÄÎ¶¨
                            </a>
                        </li>
                        <li>
                            <a th:href="@{/admin/products}" th:classappend="${activeMenu == 'products'} ? 'active' : ''">
                                <span class="icon">üõµ</span>
                                ÏÉÅÌíà Í¥ÄÎ¶¨
                            </a>
                        </li>
                        <li>
                            <a th:href="@{/admin/members}" th:classappend="${activeMenu == 'members'} ? 'active' : ''">
                                <span class="icon">üë•</span>
                                ÌöåÏõê Í¥ÄÎ¶¨
                            </a>
                        </li>
                    </ul>
                </nav>

                <div class="sidebar-footer">
                    <form th:action="@{/admin/logout}" method="post" style="width: 100%;" sec:authorize="isAuthenticated()">
                        <button type="submit" class="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</button>
                    </form>
                </div>
            </aside>

            <!-- Ïò§Î•∏Ï™Ω Î≥∏Î¨∏ -->
            <main class="main-content">

                <header class="main-header" layout:fragment="pageHeader">
                    <button class="sidebar-toggle" id="sidebar-toggle-button">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <h1>Page Title (Í∏∞Î≥∏Í∞í)</h1>
                </header>

                <div class="content-wrapper">
                    <th:block layout:fragment="pageContent"></th:block>
                </div>
            </main>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const toggleButton = document.getElementById('sidebar-toggle-button');
                const sidebar = document.getElementById('admin-sidebar');

                if(toggleButton && sidebar) {
                    toggleButton.addEventListener('click', () => {
                        sidebar.classList.toggle('is-open');
                    });
                }
            });
        </script>

    </body>
</html>